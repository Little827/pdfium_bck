{{header}}
{{object 1 0}} <<
  /Type /Catalog
  /Pages 2 0 R
  /AcroForm 4 0 R
  /OpenAction 10 0 R
>>
endobj
{{object 2 0}} <<
  /Type /Pages
  /Count 1
  /Kids [
    3 0 R
  ]
>>
endobj
{{object 3 0}} <<
  /Type /Page
  /Parent 2 0 R
  /MediaBox [0 0 612 792]
  /Annots [
    5 0 R
  ]
>>
endobj
{{object 4 0}} <<
  /Fields [5 0 R]
>>
endobj
{{object 5 0}} <<
  /Type /Annot
  /FT /Ch
  /Ff 0
  /T (MyField)
  /Rect [ 100 350 200 380 ]
  /Subtype /Widget
  /Opt [[(foo) (Foo)] [(bar) (Bar)] [(qux) (Qux)]]
>>
endobj
{{object 10 0}} <<
  /Type /Action
  /S /JavaScript
  /JS 11 0 R
>>
endobj
{{object 11 0}} <<
  {{streamlen}}
>>
stream

function getFieldValue() {
  try {
    var field = this.getField("MyField");
    var v = field.value;
    app.alert("Value is: " + typeof(v) + " " + v);
  } catch (e) {
    app.alert('ERROR: ' + e);
  }
}

function testField(x) {
  try {
    var field = this.getField("MyField");
    field.value = x;
    var y = field.value;
    app.alert("Answer for \"" + x + "\" is: " + typeof(y) + " " + y);
  } catch (e) {
    app.alert('ERROR: ' + e);
  }
}

getFieldValue();

// Valid cases
testField("foo");
testField("bar");
testField("qux");

getFieldValue();

// Invalid cases
testField("");
testField("goats");
testField("b4");
testField("b4.5");
testField("4x");
testField("4.5x");
testField(4);
testField("4");
testField(" 4");
testField("4 ");
testField("                          4                                      ");
testField("4 3 2 1");
testField("-4");
testField("23.00000001");
testField("23.00000000000000001");
testField(40000000000000000000000000);
testField("40000000000000000000000000");
testField("25,5");
testField("1e+5");
testField("1e5");
testField("1e-5");
testField("-1e-5");
testField("1.2e5");
testField(Infinity);
testField("Infinity");
testField("INFINITY");
testField("INF");
testField(NaN);
testField("NaN");
testField("NAN");
testField("0x100");
testField("0x100.1");
testField("0x100,1");
testField("0x100x1");
testField("123x6");
testField("123xy6");
testField("123.y6");
testField("1,000,000");
testField("1.2.3");
testField("1-3");
testField("1+3");
testField("1.-3");
testField("1.+3");
testField([1, 2, 3, 4]);
testField("[1, 2, 3, 4]");
testField({a: 1, b: 2});
testField("{a: 1, b: 2}");
testField(function(x) { return x+1; });
testField("function(x) { return x+1; }");
testField("Foo");
testField("Bar");
testField("Qux");

getFieldValue();

endstream
endobj
{{xref}}
{{trailer}}
{{startxref}}
%%EOF
