{
  "pushCert": "certificate version 0.1\npusher 5A66FD7B 1602831310 -0700\nnonce ALC2d19bZI+1QKzLiTQ/4NYcuiaNdbXPukhMuTtG84a+IvmIpiekiiH65uxVR3P3ln0A7lQBat68\n\n0000000000000000000000000000000000000000 a4edc9a9752f5bda568cc2c3abc507cd02aae023 refs/for/refs/heads/master%wip,m\u003dInitial_upload,cc\u003dpdfium-reviews@googlegroups.com,l\u003dCommit-Queue+1\n-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCgAdFiEE5k8iyLVP2jn8A19DqzYtYVpm/XsFAl+JQ84ACgkQqzYtYVpm\n/XueeQf9EbueHcat7j1ckK6/J2QsRn2ZX/o+AhT1EScOZpnk+yfaghwjMjEUXqjO\ngwLTCw+tac0HuVbrbFDC5Af0bfmWuOWSmT+Nnl45mtT96CnVGb+ytmwJQsW8EW0g\nVhEmQ5xq25PK68sKEvb5g/UPpe43eZgxOhhRcH/qPLgWMcAi8+9POWOjAHGScjnn\n01y/LnqmAKXuj8JAls8+WS1ju7P70wbUhsQHoPAyx2PJfOJYxTz+/tO7WmS/8987\nxIbyue2MizEpYf8Z8Fj7+XqymCt3jJO92MeRjN4sE+FnX5WKPyvHE/RGZgFzhNeo\n9BOYG1KQz/K1bg5BPM4083ZpIGHYLg\u003d\u003d\n\u003dAaNW\n-----END PGP SIGNATURE-----\n",
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "018f4e0b_ce2f6a31",
        "filename": "core/fpdfapi/page/cpdf_dib.cpp",
        "patchSetId": 1
      },
      "lineNbr": 1130,
      "author": {
        "id": 5495
      },
      "writtenOn": "2020-10-16T16:54:00Z",
      "side": 1,
      "message": "I\u0027m not sure the optimizer can remove the bounds check here, since we could get back any sized-span.  While that\u0027s usually a good thing from the security guy point of view, I\u0027m concerned that color-conversion is the one place where performance actually matters, given that there are soooo many pixels compared to other objects in the system .... do you know if this regresses?",
      "range": {
        "startLine": 1127,
        "startChar": 1,
        "endLine": 1130,
        "endChar": 4
      },
      "revId": "a4edc9a9752f5bda568cc2c3abc507cd02aae023",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a1b054da_6efab4e1",
        "filename": "core/fpdfapi/page/cpdf_dib.cpp",
        "patchSetId": 1
      },
      "lineNbr": 1130,
      "author": {
        "id": 5045
      },
      "writtenOn": "2020-10-16T19:40:02Z",
      "side": 1,
      "message": "Looking at coverage data, this particular block (lines 1121-1138) has no test coverage. So in that sense, there\u0027s no performance regression.",
      "parentUuid": "018f4e0b_ce2f6a31",
      "range": {
        "startLine": 1127,
        "startChar": 1,
        "endLine": 1130,
        "endChar": 4
      },
      "revId": "a4edc9a9752f5bda568cc2c3abc507cd02aae023",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e3d53b54_9e1a1455",
        "filename": "core/fpdfapi/page/cpdf_dib.cpp",
        "patchSetId": 1
      },
      "lineNbr": 1130,
      "author": {
        "id": 5495
      },
      "writtenOn": "2020-10-16T20:46:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a1b054da_6efab4e1",
      "range": {
        "startLine": 1127,
        "startChar": 1,
        "endLine": 1130,
        "endChar": 4
      },
      "revId": "a4edc9a9752f5bda568cc2c3abc507cd02aae023",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f24587b5_9ab006ac",
        "filename": "core/fpdfapi/page/cpdf_dib.cpp",
        "patchSetId": 1
      },
      "lineNbr": 1130,
      "author": {
        "id": 5045
      },
      "writtenOn": "2020-10-17T01:19:27Z",
      "side": 1,
      "message": "Given line 1082 and line 1103, `m_bpc * m_nComponents` is most likely 8 here. Thus CalculateBitsPerPixel(), which uses the same calculation, will return 8. CalculateBitsPerPixel() is often used to set `m_bpp`. If `m_bpp` is set to 8, then CFX_DIBBase::GetPaletteSize() will return 256. If the size of `palette` is 256, then this is safe, because `index` is uint8_t.\n\nI\u0027m not sure the optimizer is smart enough to figure that out. What if I added CHECK_EQ(256, palette.size())? Would that help?",
      "parentUuid": "e3d53b54_9e1a1455",
      "range": {
        "startLine": 1127,
        "startChar": 1,
        "endLine": 1130,
        "endChar": 4
      },
      "revId": "a4edc9a9752f5bda568cc2c3abc507cd02aae023",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    }
  ]
}