{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "97fb9e51_b5e29490",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 9051
      },
      "writtenOn": "2024-04-02T17:14:19Z",
      "side": 1,
      "message": "For context, here\u0027s the file with the deprecated API calls and new API calls: https://source.chromium.org/chromium/_/chromium/v8/v8.git/+/b1d467718af691a5f994aee19f1994b72be01392:include/v8-template.h;drc\u003d6ec883986bd417e2a42ddb960bd9449deb7e4639;bpv\u003d0;bpt\u003d0",
      "revId": "c350597bc02ef277f62be90a4eac760309b19b73",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ed5c173a_f1e87a4a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5495
      },
      "writtenOn": "2024-04-02T17:43:26Z",
      "side": 1,
      "message": "So I need to understand the old behaviour a little better.  Did V8 infer whether the property had been intercepted based upon tracking calls to set the value? Otherwise, when one of the early returns occured (from pdfium\u0027s .cpp code), was the value added to the v8-side object?  If not, and no value was added, might we want to return \"yes\" in all cases to mimic the old behaviour?",
      "revId": "c350597bc02ef277f62be90a4eac760309b19b73",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cd0eab9c_a348e302",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 9051
      },
      "writtenOn": "2024-04-02T18:01:44Z",
      "side": 1,
      "message": "CC\u0027ing @ishell@chromium.org to help answer this question.",
      "parentUuid": "ed5c173a_f1e87a4a",
      "revId": "c350597bc02ef277f62be90a4eac760309b19b73",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "809a46a5_8f48aa97",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 3293871
      },
      "writtenOn": "2024-04-02T18:25:38Z",
      "side": 1,
      "message": "With the old Api the \"not intercepted\" state can be achieved by\n - not setting the result,\n - setting the result to empty handle.\n\nSo early return means \"not intercepted\" to V8 and thus it proceeds executing the get/set/delete/etc operation beyond the interceptor. In case of \"set\" operation and a prototype chain not having read-only property it\u0027ll be added to the receiver object on V8 side.\nThe new Api requires a clear answer from the callback - whether the request was intercepted or not.",
      "parentUuid": "cd0eab9c_a348e302",
      "revId": "c350597bc02ef277f62be90a4eac760309b19b73",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "17507076_f94df65a",
        "filename": "fxjs/cjs_global.cpp",
        "patchSetId": 1
      },
      "lineNbr": 89,
      "author": {
        "id": 3293871
      },
      "writtenOn": "2024-04-02T17:29:28Z",
      "side": 1,
      "message": "`kYes` since throwing an exception is an \"interception\" of the request.",
      "revId": "c350597bc02ef277f62be90a4eac760309b19b73",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "403d1e84_a9ae815f",
        "filename": "fxjs/cjs_global.cpp",
        "patchSetId": 1
      },
      "lineNbr": 89,
      "author": {
        "id": 9051
      },
      "writtenOn": "2024-04-02T23:33:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "17507076_f94df65a",
      "revId": "c350597bc02ef277f62be90a4eac760309b19b73",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cf7518e4_f7cc5546",
        "filename": "fxjs/cjs_global.cpp",
        "patchSetId": 1
      },
      "lineNbr": 119,
      "author": {
        "id": 9051
      },
      "writtenOn": "2024-04-02T17:14:19Z",
      "side": 1,
      "message": "Should this be `kYes`? Is the error producing a side effect?\n```suggestion\n    return v8::Intercepted::kYes;\n```\n\nhttps://source.chromium.org/chromium/_/chromium/v8/v8.git/+/b1d467718af691a5f994aee19f1994b72be01392:include/v8-template.h;l\u003d194-226;drc\u003d6ec883986bd417e2a42ddb960bd9449deb7e4639;bpv\u003d0;bpt\u003d0",
      "range": {
        "startLine": 119,
        "startChar": 28,
        "endLine": 119,
        "endChar": 31
      },
      "revId": "c350597bc02ef277f62be90a4eac760309b19b73",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9291ce30_e84c0c68",
        "filename": "fxjs/cjs_global.cpp",
        "patchSetId": 1
      },
      "lineNbr": 119,
      "author": {
        "id": 3293871
      },
      "writtenOn": "2024-04-02T17:29:28Z",
      "side": 1,
      "message": "Throwing an exception IS an \"interception\", so this should be `kYes`.",
      "parentUuid": "cf7518e4_f7cc5546",
      "range": {
        "startLine": 119,
        "startChar": 28,
        "endLine": 119,
        "endChar": 31
      },
      "revId": "c350597bc02ef277f62be90a4eac760309b19b73",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3c2b90ee_0af9ffa4",
        "filename": "fxjs/cjs_global.cpp",
        "patchSetId": 1
      },
      "lineNbr": 119,
      "author": {
        "id": 9051
      },
      "writtenOn": "2024-04-02T23:33:53Z",
      "side": 1,
      "message": "Done, thanks.",
      "parentUuid": "9291ce30_e84c0c68",
      "range": {
        "startLine": 119,
        "startChar": 28,
        "endLine": 119,
        "endChar": 31
      },
      "revId": "c350597bc02ef277f62be90a4eac760309b19b73",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a36bc3e1_2db0e83f",
        "filename": "fxjs/cjs_global.cpp",
        "patchSetId": 1
      },
      "lineNbr": 136,
      "author": {
        "id": 3293871
      },
      "writtenOn": "2024-04-02T17:29:28Z",
      "side": 1,
      "message": "Just to double check. Can `DelProperty` produce side-effects in case it returns `false`?",
      "revId": "c350597bc02ef277f62be90a4eac760309b19b73",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b0cf2b74_0959df91",
        "filename": "fxjs/cjs_global.cpp",
        "patchSetId": 1
      },
      "lineNbr": 136,
      "author": {
        "id": 9051
      },
      "writtenOn": "2024-04-02T23:33:53Z",
      "side": 1,
      "message": "https://source.chromium.org/chromium/_/pdfium/pdfium.git/+/e4cebef61bc684f993e130a3888080345a6c08f8:fxjs/cjs_global.cpp;l\u003d173-180;drc\u003d9108588e63f5f765e8e0b5d9c06b6e94799254f4;bpv\u003d0;bpt\u003d0\n\nhttps://source.chromium.org/chromium/_/pdfium/pdfium.git/+/e4cebef61bc684f993e130a3888080345a6c08f8:fxjs/cjs_global.h;l\u003d96;drc\u003d37935952b7e18960d9fde487350ccc0aa0e25f13;bpv\u003d0;bpt\u003d0\n\nDoesn\u0027t look like it. m_MapGlobal is just a std::map.",
      "parentUuid": "a36bc3e1_2db0e83f",
      "revId": "c350597bc02ef277f62be90a4eac760309b19b73",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e8cd762d_1a3d2b3d",
        "filename": "fxjs/xfa/cfxjse_class.cpp",
        "patchSetId": 1
      },
      "lineNbr": 213,
      "author": {
        "id": 3293871
      },
      "writtenOn": "2024-04-02T17:29:28Z",
      "side": 1,
      "message": "This hack of returning an unexposed `v8::internal::ABSENT` value is not needed with the new API.\nJust `return v8::Intercepted::kNo;`.",
      "revId": "c350597bc02ef277f62be90a4eac760309b19b73",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0164c06d_76dd2804",
        "filename": "fxjs/xfa/cfxjse_class.cpp",
        "patchSetId": 1
      },
      "lineNbr": 213,
      "author": {
        "id": 9051
      },
      "writtenOn": "2024-04-02T23:33:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e8cd762d_1a3d2b3d",
      "revId": "c350597bc02ef277f62be90a4eac760309b19b73",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    }
  ]
}