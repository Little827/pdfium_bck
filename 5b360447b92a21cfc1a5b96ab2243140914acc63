{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "3e0066a7_fe6685cc",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 9061
      },
      "writtenOn": "2023-01-13T19:50:13Z",
      "side": 1,
      "message": "Hey Lei, PTAL? Thanks.",
      "revId": "5b360447b92a21cfc1a5b96ab2243140914acc63",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8c02c87b_f1363ac4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 5045
      },
      "writtenOn": "2023-01-18T01:48:01Z",
      "side": 1,
      "message": "Thanks for taking the time to do all the plumbing required to make this work. I wonder if this alternative would work:\n\n1) Add an API to get the current caret location inside the form. e.g. FORM_GetCurrentCaretPosition().\n2) Add an API to set the selection based on 2 caret locations. e.g. FORM_SetSelection().\n\nThen the embedder can call:\n\nint original_caret_pos \u003d FORM_GetCurrentCaretPosition(...);\nFORM_ReplaceSelection(...);\nint new_caret_pos \u003d FORM_GetCurrentCaretPosition(...);\nFORM_SetSelection(original_caret_pos, new_caret_pos);",
      "revId": "5b360447b92a21cfc1a5b96ab2243140914acc63",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6a230b9e_f9860fd4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 9061
      },
      "writtenOn": "2023-01-18T18:22:01Z",
      "side": 1,
      "message": "This approach may be tricky to implement because of character indexing (I described it in https://crbug.com/1253665#c15). We will want coverage over a good spectrum of Unicode text.\n\nAlso, it might not work as simple because of some complications:\n- the caret can be either at the beginning or the end of the selection.\n- the caret position after ReplaceSelection() seems to be control specific. It seems that in XFA controls the caret will be at the beginning of the inserted text.\n\nI think the current approach should be good enough for most use cases and we can revisit the selection API if needed. WDYT?",
      "parentUuid": "8c02c87b_f1363ac4",
      "revId": "5b360447b92a21cfc1a5b96ab2243140914acc63",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6983e555_b01a4658",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 5045
      },
      "writtenOn": "2023-01-18T23:12:25Z",
      "side": 1,
      "message": "Sure. Let\u0027s give this a try. As the new API is experimental, we have the flexibility to change it as needed.",
      "parentUuid": "6a230b9e_f9860fd4",
      "revId": "5b360447b92a21cfc1a5b96ab2243140914acc63",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f1394e3e_5b87496e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 9061
      },
      "writtenOn": "2023-01-19T17:51:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6983e555_b01a4658",
      "revId": "5b360447b92a21cfc1a5b96ab2243140914acc63",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "22da0622_6be8821b",
        "filename": "public/fpdf_formfill.h",
        "patchSetId": 4
      },
      "lineNbr": 1563,
      "author": {
        "id": 5045
      },
      "writtenOn": "2023-01-18T01:48:01Z",
      "side": 1,
      "message": "Need to mark new APIs as experimental, as not experimental and not deprecated implies stable.",
      "revId": "5b360447b92a21cfc1a5b96ab2243140914acc63",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8b5aecac_f8a613ae",
        "filename": "public/fpdf_formfill.h",
        "patchSetId": 4
      },
      "lineNbr": 1563,
      "author": {
        "id": 9061
      },
      "writtenOn": "2023-01-18T18:22:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "22da0622_6be8821b",
      "revId": "5b360447b92a21cfc1a5b96ab2243140914acc63",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    }
  ]
}