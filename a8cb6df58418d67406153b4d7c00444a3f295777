{
  "comments": [
    {
      "key": {
        "uuid": "ffd893ba_3d6982ab",
        "filename": "core/fpdfdoc/cpdf_formfield.cpp",
        "patchSetId": 1
      },
      "lineNbr": 562,
      "author": {
        "id": 5045
      },
      "writtenOn": "2019-08-26T23:43:02Z",
      "side": 1,
      "message": "Have you looked at the relationship between /V and /I ? With the existing code, lines 534-537 chooses between /V and /I, and CountSelectedOptions() only uses /I. With the addition of CountSelectedItems(), this chooses between /V and /I again. Does that make sense?",
      "revId": "a8cb6df58418d67406153b4d7c00444a3f295777",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dfd3320b_d660ac16",
        "filename": "core/fpdfdoc/cpdf_formfield.cpp",
        "patchSetId": 1
      },
      "lineNbr": 562,
      "author": {
        "id": 7644
      },
      "writtenOn": "2019-08-26T23:52:34Z",
      "side": 1,
      "message": "The spec says that /V takes precedence over /I when both are provided. \n\nThe existing  code does not handle /V being an array. I\u0027ll refactor this to make it such that the precedence is reflected in the code.",
      "parentUuid": "ffd893ba_3d6982ab",
      "revId": "a8cb6df58418d67406153b4d7c00444a3f295777",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f33b6bd3_04d91959",
        "filename": "core/fpdfdoc/cpdf_formfield.cpp",
        "patchSetId": 1
      },
      "lineNbr": 562,
      "author": {
        "id": 5045
      },
      "writtenOn": "2019-08-27T00:11:35Z",
      "side": 1,
      "message": "The language that describes /I in PDF 1.7 page 694 and ISO 32000-1:2008 page 445 differ slightly, but they both take an entire paragraph to describe the relationship. I think your summary is over-simplifying it a bit.\n\nGiven the existing code already does not capture everything in the spec, which is non-trivial, it would be too much work for this one CL to get it 100% correct. I think we should save that effort for another time, and focus on doing enough here so we can continue to focus on https://crbug.com/pdfium/1377 and get that fixed. WDYT?",
      "parentUuid": "dfd3320b_d660ac16",
      "revId": "a8cb6df58418d67406153b4d7c00444a3f295777",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6ce9391a_3cd4aac0",
        "filename": "core/fpdfdoc/cpdf_formfield.cpp",
        "patchSetId": 1
      },
      "lineNbr": 562,
      "author": {
        "id": 7644
      },
      "writtenOn": "2019-08-29T17:32:33Z",
      "side": 1,
      "message": "My main objection to putting this off is that it blocks pdfium:1377. This fix needs to be landed to find the first selected value when there are multiple selected values. \n\nEven though the spec requires that there exist an /I entry when the value of the choice field (/V) is an array, many listbox forms with multiple values can miss an /I entry. I find the last line the most relevant to the fix, which says \"[i]f the elements identified by this entry [/I] differ from those in the /V entry of the field dictionary [...], the /V entry takes precedence.\" Given that the spec\u0027s requirement of an /I entry can be too stringent, I argue that we read first from the /V entry. From what I can tell, the /I entry is important when the export values of multiple options are the same, I can add a quick check for that in this function.",
      "parentUuid": "f33b6bd3_04d91959",
      "revId": "a8cb6df58418d67406153b4d7c00444a3f295777",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    }
  ]
}