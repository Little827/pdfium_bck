{
  "comments": [
    {
      "key": {
        "uuid": "4b21ea97_cb9c50ee",
        "filename": "core/fpdfdoc/cpdf_formfield.cpp",
        "patchSetId": 1
      },
      "lineNbr": 480,
      "author": {
        "id": 7703
      },
      "writtenOn": "2020-04-09T11:06:20Z",
      "side": 1,
      "message": "If we consider /V entry as a source of truth, then what are the scenario we would want to refer to /I entry?\n\nAn excerpt from PDF spec for /I entry -\n\"This entry shall be used when two or more elements in the Opt array have different names but the same export value or when the value of the choice field is an array. If the items identified by this entry differ from those in the V entry of the field dictionary, the V entry shall be used.\"\n\nIt seems like we should refer to /I entry first and use V as fallback?",
      "range": {
        "startLine": 480,
        "startChar": 5,
        "endLine": 480,
        "endChar": 32
      },
      "revId": "7dffe1971f49a83758448c1f3867df5666bf9d04",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "24e14d27_947c9ed7",
        "filename": "core/fpdfdoc/cpdf_formfield.cpp",
        "patchSetId": 1
      },
      "lineNbr": 480,
      "author": {
        "id": 7644
      },
      "writtenOn": "2020-04-09T17:33:24Z",
      "side": 1,
      "message": "\u003e If we consider /V entry as a source of truth, then what are the scenario we would want to refer to /I entry?\n\nIn my current implementation, when there is no /V entry.\n\n\u003e \"If the items identified by this entry differ from those in the V entry of the field dictionary, the V entry shall be used.\"\n\nI find this section of the spec very confusingly written, but it seems like anything read from the /I entry has to be verified by the /V entry anyway. So then the question becomes, what\u0027s the point of the /I entry when the /V entry also has to be read? My interpretation is:\n- As the spec suggests, the /I entry is a fallback for when two or more entries of the /V entry are the same. (I actually don\u0027t handle that in this patchset).\n- As a more efficient way to read selected Opts, but only when /V is missing or when /I has been verified. \n\nSo I guess, a solution here would be to verify the /I entry when the CPDF_FormField loads, or do it lazily in IsItemSelected() at the cost of losing the constness of the function.",
      "parentUuid": "4b21ea97_cb9c50ee",
      "range": {
        "startLine": 480,
        "startChar": 5,
        "endLine": 480,
        "endChar": 32
      },
      "revId": "7dffe1971f49a83758448c1f3867df5666bf9d04",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c99af213_55ba8079",
        "filename": "core/fpdfdoc/cpdf_formfield.cpp",
        "patchSetId": 1
      },
      "lineNbr": 482,
      "author": {
        "id": 7703
      },
      "writtenOn": "2020-04-09T11:06:20Z",
      "side": 1,
      "message": "Can we add a test case with fallback scenario?",
      "range": {
        "startLine": 482,
        "startChar": 52,
        "endLine": 482,
        "endChar": 74
      },
      "revId": "7dffe1971f49a83758448c1f3867df5666bf9d04",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "801ab204_032d0114",
        "filename": "core/fpdfdoc/cpdf_formfield.cpp",
        "patchSetId": 1
      },
      "lineNbr": 482,
      "author": {
        "id": 7644
      },
      "writtenOn": "2020-04-10T03:50:41Z",
      "side": 1,
      "message": "Done in upstream CL.",
      "parentUuid": "c99af213_55ba8079",
      "range": {
        "startLine": 482,
        "startChar": 52,
        "endLine": 482,
        "endChar": 74
      },
      "revId": "7dffe1971f49a83758448c1f3867df5666bf9d04",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": false
    }
  ]
}