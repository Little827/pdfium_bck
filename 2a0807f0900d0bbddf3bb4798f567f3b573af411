{
  "comments": [
    {
      "key": {
        "uuid": "a5aaebf2_ee55adc1",
        "filename": "fpdfsdk/pwl/cpwl_edit_impl.cpp",
        "patchSetId": 14
      },
      "lineNbr": 215,
      "author": {
        "id": 5045
      },
      "writtenOn": "2019-07-03T01:26:30Z",
      "side": 1,
      "message": "If one item on the undo stack says to do 5 more undos, and the first of those 5 says to do 2 more undos, I would expect there to be a total of 8 undos. e.g. The Undo() return values are [5 2 0 0 0 0 0 0] on the stack. With this while-loop, it would only performce 4 undos.\n\nTo get the 8 undos, you would need something like:\n\nint nUndoRemain \u003d 1;\nwhile (CanUndo() \u0026\u0026 nUndoRemain \u003e 0) {\n  nUndoRemain +\u003d m_UndoItemStack[m_nCurUndoPos - 1]-\u003eUndo();\n  m_nCurUndoPos--;\n  nUndoRemain--;\n}",
      "revId": "2a0807f0900d0bbddf3bb4798f567f3b573af411",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d0c2e418_43245905",
        "filename": "fpdfsdk/pwl/cpwl_edit_impl.cpp",
        "patchSetId": 14
      },
      "lineNbr": 215,
      "author": {
        "id": 7620
      },
      "writtenOn": "2019-07-03T20:20:07Z",
      "side": 1,
      "message": "I added an ASSERT in the new patch to make sure once when we start processing a series of undo items inside a wrapper, no more wrapper should show up inside the current one. This should prevent the case of [5,2,0,0,0,0...] from happening.",
      "parentUuid": "a5aaebf2_ee55adc1",
      "revId": "2a0807f0900d0bbddf3bb4798f567f3b573af411",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "825714df_b9d823e3",
        "filename": "fpdfsdk/pwl/cpwl_edit_impl.cpp",
        "patchSetId": 14
      },
      "lineNbr": 215,
      "author": {
        "id": 5045
      },
      "writtenOn": "2019-07-03T20:40:48Z",
      "side": 1,
      "message": "That\u0027s a lot of work to have code that\u0027s less flexible. What\u0027s the benefit?",
      "parentUuid": "d0c2e418_43245905",
      "revId": "2a0807f0900d0bbddf3bb4798f567f3b573af411",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "72c5a07e_6573b597",
        "filename": "fpdfsdk/pwl/cpwl_edit_impl.cpp",
        "patchSetId": 14
      },
      "lineNbr": 215,
      "author": {
        "id": 7620
      },
      "writtenOn": "2019-07-08T20:32:58Z",
      "side": 1,
      "message": "I replied too early and the change was not reflected in my last CL upload. Would you mind taking a look at the latest change?\n\nIf we consider InsertText and ClearSelection as simple actions (which can be undone in one step), and ReplaceSelection as a complicated action (which is a combination of multiple simple actions), I think there is a low chance that we will have an edit action which contains multiple complicated actions. That\u0027s why I added \n    ASSERT(!bIsInWrapper || tempUndoRemain \u003d\u003d 0);\nto make sure there is at most one layer of wrapper for complicated actions in case anything goes wrong in |m_UndoItemStack|, such as invalid values.\n\nI made the assumption that all the edit actions which we need to support in pdf already exist in our current code base. Maybe in the future we will support some more complicated edit actions, such as replace multiple strings all at once?",
      "parentUuid": "825714df_b9d823e3",
      "revId": "2a0807f0900d0bbddf3bb4798f567f3b573af411",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4e582590_09839409",
        "filename": "fpdfsdk/pwl/cpwl_edit_impl.cpp",
        "patchSetId": 14
      },
      "lineNbr": 219,
      "author": {
        "id": 5045
      },
      "writtenOn": "2019-07-03T01:26:30Z",
      "side": 1,
      "message": "ASSERT(nUndoRemain \u003d\u003d 0) once the while-loop exits. If this assert fails, then something went wrong.",
      "revId": "2a0807f0900d0bbddf3bb4798f567f3b573af411",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "04768688_d4129e72",
        "filename": "fpdfsdk/pwl/cpwl_edit_impl.cpp",
        "patchSetId": 14
      },
      "lineNbr": 219,
      "author": {
        "id": 7620
      },
      "writtenOn": "2019-07-03T20:20:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4e582590_09839409",
      "revId": "2a0807f0900d0bbddf3bb4798f567f3b573af411",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b8dc9696_a0d7d698",
        "filename": "fpdfsdk/pwl/cpwl_edit_impl.h",
        "patchSetId": 14
      },
      "lineNbr": 101,
      "author": {
        "id": 5045
      },
      "writtenOn": "2019-07-03T01:13:06Z",
      "side": 1,
      "message": "Let\u0027s document what the return values are.",
      "revId": "2a0807f0900d0bbddf3bb4798f567f3b573af411",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1a680641_17c87323",
        "filename": "fpdfsdk/pwl/cpwl_edit_impl.h",
        "patchSetId": 14
      },
      "lineNbr": 101,
      "author": {
        "id": 7620
      },
      "writtenOn": "2019-07-03T20:20:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b8dc9696_a0d7d698",
      "revId": "2a0807f0900d0bbddf3bb4798f567f3b573af411",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "151bce27_9a681410",
        "filename": "fpdfsdk/pwl/cpwl_edit_impl.h",
        "patchSetId": 14
      },
      "lineNbr": 145,
      "author": {
        "id": 5045
      },
      "writtenOn": "2019-07-03T01:13:06Z",
      "side": 1,
      "message": "Another way to do this is to have two separate, and even simpler classes: CFXEU_ReplaceSelectionBegin and CFXEU_ReplaceSelectionEnd. Not sure which is easier. WDYT?",
      "revId": "2a0807f0900d0bbddf3bb4798f567f3b573af411",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0796030e_ec6bf280",
        "filename": "fpdfsdk/pwl/cpwl_edit_impl.h",
        "patchSetId": 14
      },
      "lineNbr": 145,
      "author": {
        "id": 7620
      },
      "writtenOn": "2019-07-03T20:20:07Z",
      "side": 1,
      "message": "Both ways are easy to implement. \nFor debugging purpose in the future, checking the value of |m_bEnd| is as easy as checking simply the name of the class is |CFXEU_ReplaceSelBegin| or |CFXEU_ReplaceSelEnd|. But creating two separate classes requires adding redundant methods to both classes.",
      "parentUuid": "151bce27_9a681410",
      "revId": "2a0807f0900d0bbddf3bb4798f567f3b573af411",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d68e2028_609a76cf",
        "filename": "fpdfsdk/pwl/cpwl_edit_impl.h",
        "patchSetId": 14
      },
      "lineNbr": 147,
      "author": {
        "id": 5045
      },
      "writtenOn": "2019-07-03T01:13:06Z",
      "side": 1,
      "message": "If you are going to go with Hungarian notation, then this should be |bIsEnd|.",
      "range": {
        "startLine": 147,
        "startChar": 70,
        "endLine": 147,
        "endChar": 75
      },
      "revId": "2a0807f0900d0bbddf3bb4798f567f3b573af411",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e45405b2_03d72f5d",
        "filename": "fpdfsdk/pwl/cpwl_edit_impl.h",
        "patchSetId": 14
      },
      "lineNbr": 147,
      "author": {
        "id": 7620
      },
      "writtenOn": "2019-07-03T20:20:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d68e2028_609a76cf",
      "range": {
        "startLine": 147,
        "startChar": 70,
        "endLine": 147,
        "endChar": 75
      },
      "revId": "2a0807f0900d0bbddf3bb4798f567f3b573af411",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d00096ff_bcca7005",
        "filename": "fpdfsdk/pwl/cpwl_edit_impl.h",
        "patchSetId": 14
      },
      "lineNbr": 150,
      "author": {
        "id": 5045
      },
      "writtenOn": "2019-07-03T01:13:06Z",
      "side": 1,
      "message": "This can be private, since there are no external callers. It can also be const, since it does not modify anything. It can also be inlined here, because it is a trivial getter.",
      "revId": "2a0807f0900d0bbddf3bb4798f567f3b573af411",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "35b4d55e_967157d3",
        "filename": "fpdfsdk/pwl/cpwl_edit_impl.h",
        "patchSetId": 14
      },
      "lineNbr": 150,
      "author": {
        "id": 7620
      },
      "writtenOn": "2019-07-03T20:20:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d00096ff_bcca7005",
      "revId": "2a0807f0900d0bbddf3bb4798f567f3b573af411",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8275830a_29a11a37",
        "filename": "fpdfsdk/pwl/cpwl_edit_impl.h",
        "patchSetId": 14
      },
      "lineNbr": 157,
      "author": {
        "id": 5045
      },
      "writtenOn": "2019-07-03T01:13:06Z",
      "side": 1,
      "message": "Does this class still need all these member variables?",
      "revId": "2a0807f0900d0bbddf3bb4798f567f3b573af411",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0001108a_51f4d83e",
        "filename": "fpdfsdk/pwl/cpwl_edit_impl.h",
        "patchSetId": 14
      },
      "lineNbr": 157,
      "author": {
        "id": 7620
      },
      "writtenOn": "2019-07-03T20:20:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8275830a_29a11a37",
      "revId": "2a0807f0900d0bbddf3bb4798f567f3b573af411",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": false
    }
  ]
}