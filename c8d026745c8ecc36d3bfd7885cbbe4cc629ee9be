{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "35d3b538_067dd66a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 9,
      "author": {
        "id": 5045
      },
      "writtenOn": "2022-01-07T19:49:02Z",
      "side": 1,
      "message": "Add another line here to reference the bug for this.\n\nBug: pdfium:1758",
      "revId": "c8d026745c8ecc36d3bfd7885cbbe4cc629ee9be",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "78e9ce78_4620f8c8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 9,
      "author": {
        "id": 8751
      },
      "writtenOn": "2022-01-07T21:26:22Z",
      "side": 1,
      "message": "Added, thanks!",
      "parentUuid": "35d3b538_067dd66a",
      "revId": "c8d026745c8ecc36d3bfd7885cbbe4cc629ee9be",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cdfefd4e_49e025b4",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 9,
      "author": {
        "id": 8751
      },
      "writtenOn": "2022-01-07T21:27:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "78e9ce78_4620f8c8",
      "revId": "c8d026745c8ecc36d3bfd7885cbbe4cc629ee9be",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "29a77494_a69fc2b8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 8751
      },
      "writtenOn": "2022-01-05T17:03:13Z",
      "side": 1,
      "message": "I tested this extensively using pypdfium2 built with this patch, and it seems to work correctly. Could you please review/merge?",
      "revId": "c8d026745c8ecc36d3bfd7885cbbe4cc629ee9be",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b65a5b53_f5158ba1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5495
      },
      "writtenOn": "2022-01-07T17:17:13Z",
      "side": 1,
      "message": "Before we\u0027d consider this, you\u0027d need to add some tests for this new function to fpdf_doc_embeddertest.cpp.",
      "revId": "c8d026745c8ecc36d3bfd7885cbbe4cc629ee9be",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b6e8cdd3_079c511e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5495
      },
      "writtenOn": "2022-01-07T17:23:02Z",
      "side": 1,
      "message": "Also, I didn\u0027t see a record of a contributor agreement on file for your email address, see https://cla.developers.google.com",
      "revId": "c8d026745c8ecc36d3bfd7885cbbe4cc629ee9be",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "397376ef_02ba4d9b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 8751
      },
      "writtenOn": "2022-01-07T18:51:39Z",
      "side": 1,
      "message": "Thanks, I filed the CLA now.",
      "parentUuid": "b6e8cdd3_079c511e",
      "revId": "c8d026745c8ecc36d3bfd7885cbbe4cc629ee9be",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a27298fe_856de5f1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 8751
      },
      "writtenOn": "2022-01-07T18:51:39Z",
      "side": 1,
      "message": "I\u0027m primarily a Python developer and only know very little C/C++; I built this patch out of personal need for PyPDFium. Working with the PDFium test suite would take me a lot of time, much more than for someone who is already used to it.\nIs it possible that a member of PDFium team could please implement a test for the new method? After all, I already tested it extensively on the Python side as stated below, and Chromium would benefit from the new feature equally.\nAnyway, it seems like an oversight that there was not method to get bookmark state? Except for this one thing, the TOC parser of PDFium seems pretty complete...",
      "parentUuid": "b65a5b53_f5158ba1",
      "revId": "c8d026745c8ecc36d3bfd7885cbbe4cc629ee9be",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5c852b71_9e91f71e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 8751
      },
      "writtenOn": "2022-01-07T19:00:16Z",
      "side": 1,
      "message": "However, what I could certainly contribute would be a test file for bookmark state, in case you don\u0027t have a suitable one yet.",
      "parentUuid": "a27298fe_856de5f1",
      "revId": "c8d026745c8ecc36d3bfd7885cbbe4cc629ee9be",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1a7b360b_5ff6b33c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 8751
      },
      "writtenOn": "2022-01-07T19:25:23Z",
      "side": 1,
      "message": "Hmm, I started working with the PDFium test suite now. I ran `./pdfium_embeddertests --gtest_filter\u003d\"FPDFDocEmbedderTest.FindBookmarks\"`, which fails at loading the document. This seems unrelated to my changes, and I\u0027m not able to implement a test in this state. Here\u0027s the output:\n```\nNote: Google Test filter \u003d FPDFDocEmbedderTest.FindBookmarks\n[\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d] Running 1 test from 1 test suite.\n[----------] Global test environment set-up.\n[----------] 1 test from FPDFDocEmbedderTest\n[ RUN      ] FPDFDocEmbedderTest.FindBookmarks\n../fpdfsdk/fpdf_doc_embeddertest.cpp:502: Failure\nValue of: OpenDocument(\"bookmarks.pdf\")\n  Actual: false\nExpected: true\nStack trace:\n  0x5566bd4e4c02: FPDFDocEmbedderTest_FindBookmarks_Test::TestBody()\n  0x5566bd6b3945: testing::Test::Run()\n  0x5566bd6b47d8: testing::TestInfo::Run()\n... Google Test internal frames ...\n\n[  FAILED  ] FPDFDocEmbedderTest.FindBookmarks (3 ms)\n[----------] 1 test from FPDFDocEmbedderTest (3 ms total)\n\n[----------] Global test environment tear-down\n[\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d] 1 test from 1 test suite ran. (4 ms total)\n[  PASSED  ] 0 tests.\n[  FAILED  ] 1 test, listed below:\n[  FAILED  ] FPDFDocEmbedderTest.FindBookmarks\n\n 1 FAILED TEST\n```",
      "parentUuid": "5c852b71_9e91f71e",
      "revId": "c8d026745c8ecc36d3bfd7885cbbe4cc629ee9be",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "71d75bd1_40c89b2a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 8751
      },
      "writtenOn": "2022-01-07T19:28:49Z",
      "side": 1,
      "message": "Do the embedder tests need to be called with any specific arguments or from a different CWD?",
      "parentUuid": "1a7b360b_5ff6b33c",
      "revId": "c8d026745c8ecc36d3bfd7885cbbe4cc629ee9be",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "689c3ffd_36265e8f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5495
      },
      "writtenOn": "2022-01-07T19:46:27Z",
      "side": 1,
      "message": "It shouldn\u0027t matter what CWD is, since the bookmarks.pdf file is found relative to the path that contains pdfium_embeddertests itself. If you moved the file from its build location it will have problems. One other thing to consider is whether there are any permissions problems between testing/resources/bookmarks.pdf (as created by the user ID that checked out the tree), and the user ID current running the tests.",
      "parentUuid": "71d75bd1_40c89b2a",
      "revId": "c8d026745c8ecc36d3bfd7885cbbe4cc629ee9be",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "db9134bf_ea42cd15",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5045
      },
      "writtenOn": "2022-01-07T19:49:02Z",
      "side": 1,
      "message": "Your pdfium_embeddertests may need to be in a directory like out/Default, and not just out. I think the test utilities aren\u0027t fancy enough to detect the root source directory, and just assume it\u0027s 2 levels up.",
      "parentUuid": "689c3ffd_36265e8f",
      "revId": "c8d026745c8ecc36d3bfd7885cbbe4cc629ee9be",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b82bffc2_7bc4c752",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 8751
      },
      "writtenOn": "2022-01-07T21:20:14Z",
      "side": 1,
      "message": "@Lei Zhang: Oh yes, that probably is the cause. I compiled to just out/, and not out/Default...",
      "parentUuid": "db9134bf_ea42cd15",
      "revId": "c8d026745c8ecc36d3bfd7885cbbe4cc629ee9be",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "005f1e00_ec0bd8c4",
        "filename": "core/fpdfdoc/cpdf_bookmark.h",
        "patchSetId": 2
      },
      "lineNbr": 30,
      "author": {
        "id": 5045
      },
      "writtenOn": "2022-01-07T19:49:02Z",
      "side": 1,
      "message": "Since this is C++, return a bool?",
      "revId": "c8d026745c8ecc36d3bfd7885cbbe4cc629ee9be",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dad24937_74340b27",
        "filename": "core/fpdfdoc/cpdf_bookmark.h",
        "patchSetId": 2
      },
      "lineNbr": 30,
      "author": {
        "id": 8751
      },
      "writtenOn": "2022-01-07T21:24:41Z",
      "side": 1,
      "message": "The definition for FPF_BOOL is `typedef int FPDF_BOOL;` in `fpdfview.h`, so I thought it makes sense to use an int, but I can change to bool if you like.",
      "parentUuid": "005f1e00_ec0bd8c4",
      "revId": "c8d026745c8ecc36d3bfd7885cbbe4cc629ee9be",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a7b3bf67_8fd4e4d0",
        "filename": "fpdfsdk/fpdf_doc.cpp",
        "patchSetId": 2
      },
      "lineNbr": 115,
      "author": {
        "id": 5045
      },
      "writtenOn": "2022-01-07T19:49:02Z",
      "side": 1,
      "message": "Indentation is off. Just run \"git cl format\" to auto-format.",
      "revId": "c8d026745c8ecc36d3bfd7885cbbe4cc629ee9be",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a443ebd0_64921aa6",
        "filename": "fpdfsdk/fpdf_doc.cpp",
        "patchSetId": 2
      },
      "lineNbr": 119,
      "author": {
        "id": 5045
      },
      "writtenOn": "2022-01-07T19:49:02Z",
      "side": 1,
      "message": "I think this should still compile:\n\nreturn cBookmark.IsClosed();\n\ni.e. no need for a local variable that\u0027ll be immediately returned.",
      "revId": "c8d026745c8ecc36d3bfd7885cbbe4cc629ee9be",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "88cf17c7_da67f15b",
        "filename": "public/fpdf_doc.h",
        "patchSetId": 2
      },
      "lineNbr": 101,
      "author": {
        "id": 5045
      },
      "writtenOn": "2022-01-07T19:49:02Z",
      "side": 1,
      "message": "New APIs need to start in an experimental state. Add a comment like line 216 below.",
      "revId": "c8d026745c8ecc36d3bfd7885cbbe4cc629ee9be",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    }
  ]
}