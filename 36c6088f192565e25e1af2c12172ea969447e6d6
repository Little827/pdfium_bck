{
  "comments": [
    {
      "key": {
        "uuid": "15b179c5_cafaea5a",
        "filename": "core/fpdftext/cpdf_textpage.cpp",
        "patchSetId": 2
      },
      "lineNbr": 363,
      "author": {
        "id": 5495
      },
      "writtenOn": "2020-01-23T19:27:33Z",
      "side": 0,
      "message": "can\u0027t imagine what -3 meant.  Do we check for -3 anywhere in the callers?",
      "range": {
        "startLine": 363,
        "startChar": 11,
        "endLine": 363,
        "endChar": 14
      },
      "revId": "36c6088f192565e25e1af2c12172ea969447e6d6",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "35e117d1_81ad6d96",
        "filename": "core/fpdftext/cpdf_textpage.cpp",
        "patchSetId": 2
      },
      "lineNbr": 363,
      "author": {
        "id": 5045
      },
      "writtenOn": "2020-01-23T19:40:05Z",
      "side": 0,
      "message": "FPDFText_GetCharIndexAtPos() is the only caller, and there\u0027s a return -3 there as well. It\u0027s documented in fpdf_text.h.",
      "parentUuid": "15b179c5_cafaea5a",
      "range": {
        "startLine": 363,
        "startChar": 11,
        "endLine": 363,
        "endChar": 14
      },
      "revId": "36c6088f192565e25e1af2c12172ea969447e6d6",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "44515aca_500445bd",
        "filename": "core/fpdftext/cpdf_textpage.cpp",
        "patchSetId": 2
      },
      "lineNbr": 363,
      "author": {
        "id": 7620
      },
      "writtenOn": "2020-01-23T19:55:46Z",
      "side": 0,
      "message": "The char_index \u003d -3 will be passed up to some functions in pdfium_engine.cc, but I don\u0027t see anywhere in pdfium_engine.cc that\u0027s checking the error value -3.\nSince |m_bIsParsed| has always been true, I think it\u0027s still good to remove these lines?",
      "parentUuid": "35e117d1_81ad6d96",
      "range": {
        "startLine": 363,
        "startChar": 11,
        "endLine": 363,
        "endChar": 14
      },
      "revId": "36c6088f192565e25e1af2c12172ea969447e6d6",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d65035cc_c52a0fdd",
        "filename": "core/fpdftext/cpdf_textpage.cpp",
        "patchSetId": 2
      },
      "lineNbr": 363,
      "author": {
        "id": 5495
      },
      "writtenOn": "2020-01-23T20:02:14Z",
      "side": 0,
      "message": "So should we update the public header file?",
      "parentUuid": "44515aca_500445bd",
      "range": {
        "startLine": 363,
        "startChar": 11,
        "endLine": 363,
        "endChar": 14
      },
      "revId": "36c6088f192565e25e1af2c12172ea969447e6d6",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6b3d7a7d_f5a4d307",
        "filename": "core/fpdftext/cpdf_textpage.cpp",
        "patchSetId": 2
      },
      "lineNbr": 363,
      "author": {
        "id": 5045
      },
      "writtenOn": "2020-01-23T20:27:40Z",
      "side": 0,
      "message": "nigi: Whether Chromium PDF code checks the return value or not is a separate discussion. (See below) For this CL, I\u0027m saying the code being removed here is not reachable. CPDF_TextPage::GetIndexAtPos() only has one caller, and that caller can only have an initialized CPDF_TextPage instance where |m_bIsParsed| is true.\n\nPDFiumPage::GetCharIndex() is the direct caller to FPDFText_GetCharIndexAtPos(). It interprets -1 (no chars) and -3 (error) the same way and returns |NONSELECTABLE_AREA|. PDFiumPage::GetCharIndex() doesn\u0027t have another return value to indicate error, so |NONSELECTABLE_AREA| is the best it can do. Most callers see |NONSELECTABLE_AREA| as not interesting and do nothing.\n\ntsepez: To be clear, what public header file changes are you think of?",
      "parentUuid": "d65035cc_c52a0fdd",
      "range": {
        "startLine": 363,
        "startChar": 11,
        "endLine": 363,
        "endChar": 14
      },
      "revId": "36c6088f192565e25e1af2c12172ea969447e6d6",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    }
  ]
}