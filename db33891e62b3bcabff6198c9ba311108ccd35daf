{
  "comments": [
    {
      "key": {
        "uuid": "8c8100c7_5d9959eb",
        "filename": "fpdfsdk/formfiller/cffl_interactiveformfiller.cpp",
        "patchSetId": 9
      },
      "lineNbr": 389,
      "author": {
        "id": 5045
      },
      "writtenOn": "2020-01-23T00:49:10Z",
      "side": 1,
      "message": "I\u0027m still a bit concerned this may trigger 2 actions. Once inside OnChar() above on line 387, and a second time here.\n\nIn general, I think PDFium needs more test coverage for this code, to help give up more confidence that these changes are heading in the right direction.",
      "revId": "db33891e62b3bcabff6198c9ba311108ccd35daf",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "67dcce95_13b85772",
        "filename": "fpdfsdk/formfiller/cffl_interactiveformfiller.cpp",
        "patchSetId": 9
      },
      "lineNbr": 389,
      "author": {
        "id": 7802
      },
      "writtenOn": "2020-01-27T09:17:51Z",
      "side": 1,
      "message": "Call to OnChar() on line 387 is done to PWLWindow and checks like IsEnabled/IsVisible/IsValid is done. Similar checks are done in other mouse event implementations also.\nPerformAction() is the main implementation of Enter key press over buttons.\n\nWe have added embedder tests which checks whether action is invoked successfully and true value is returned. Similarly, we also added a pixel test which reset the checkbox on Enter key press over Reset button.\n\nWe have plans of adding \u0027action handling for links\u0027 using Enter keypress during which more tests related to action handling will be added. Kindly let us know if you feel we need to add more tests here. Also let us know what type of tests can be added other than what we have already added here.",
      "parentUuid": "8c8100c7_5d9959eb",
      "revId": "db33891e62b3bcabff6198c9ba311108ccd35daf",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "35fc9a96_4d3ebbf2",
        "filename": "fpdfsdk/formfiller/cffl_interactiveformfiller.cpp",
        "patchSetId": 9
      },
      "lineNbr": 389,
      "author": {
        "id": 5045
      },
      "writtenOn": "2020-05-05T19:29:46Z",
      "side": 1,
      "message": "As previously mentioned, there\u0027s insufficient testing. Although you have added more tests, which is very helpful, it still does not cover all cases. To give you an example of what I\u0027m concerned about:\n\n1) Apply this CL in Chromium and rebuild.\n2) Open Chromium and open multiple_form_types.pdf.\n3) Click the checkbox at the bottom to give it focus.\n4) Press the Enter key.\n\nWhen (4) occurs, CFFL_InteractiveFormFiller::PerformAction() gets called twice. This does not seem right.\n\nLooking at how the existing code is structured, CFFL_InteractiveFormFiller::OnChar() delegates the work to CFFL_FormFiller::OnChar() and its overrides. So to make the enter key work in buttons, like it does with checkboxes, I would suggest following the same pattern. Please take a look at CFFL_CheckBox::OnChar() and consider applying the same pattern to CFFL_PushButton.",
      "parentUuid": "67dcce95_13b85772",
      "revId": "db33891e62b3bcabff6198c9ba311108ccd35daf",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    }
  ]
}