{
  "comments": [
    {
      "key": {
        "uuid": "95a60b28_edd9c8b8",
        "filename": "core/fxge/skia/fx_skia_device.cpp",
        "patchSetId": 11
      },
      "lineNbr": 795,
      "author": {
        "id": 5045
      },
      "writtenOn": "2019-06-07T00:11:19Z",
      "side": 1,
      "message": "The change here is to fix the black line not drawing in the visible region, right? Does change DrawPath() above around line 738 to:\n\nif (pMatrix)\n  m_drawMatrix \u003d *pMatrix;\nelse\n  m_drawMatrix \u003d CFX_Matrix();\n\nwork as well? If so, which do we prefer? Is there one solution that\u0027s more correct than the other?",
      "revId": "9af1a34c83e3a6cc884694cb7922e83749851e7b",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "41e8c11d_4d494a53",
        "filename": "core/fxge/skia/fx_skia_device.cpp",
        "patchSetId": 11
      },
      "lineNbr": 795,
      "author": {
        "id": 7620
      },
      "writtenOn": "2019-06-07T00:50:09Z",
      "side": 1,
      "message": "Both solutions will solve the problem and I was debating about where to fix it. \n\nFixing inside DrawPath() is more like fixing at the assigning value stage and it makes the value change of m_drawMatrix clearer. \n\nWhile fixing inside FlushPath() is more about clearing old values, so that m_drawMatrix will always have the correct value instead of waiting until next round of drawing starts. But if next round of drawing has pMatrix !\u003d null, that means m_drawMatrix has to go through both steps of getting reset and reassigning value.\n\nI think now I\u0027m more leaning towards the fix you suggest.",
      "parentUuid": "95a60b28_edd9c8b8",
      "revId": "9af1a34c83e3a6cc884694cb7922e83749851e7b",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "723748ce_e139e9f7",
        "filename": "core/fxge/skia/fx_skia_device.cpp",
        "patchSetId": 11
      },
      "lineNbr": 795,
      "author": {
        "id": 7620
      },
      "writtenOn": "2019-06-07T01:48:59Z",
      "side": 1,
      "message": "Hi Mike, Lei and I would like your input on which is a more preferred solution for the fix. Thank you!",
      "parentUuid": "41e8c11d_4d494a53",
      "revId": "9af1a34c83e3a6cc884694cb7922e83749851e7b",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3d3f5590_fe60870f",
        "filename": "core/fxge/skia/fx_skia_device.cpp",
        "patchSetId": 11
      },
      "lineNbr": 795,
      "author": {
        "id": 6755
      },
      "writtenOn": "2019-06-07T13:45:24Z",
      "side": 1,
      "message": "All I see in the CL is us setting m_drawMatrix to identity. I cannot tell from this context what that does in the larger drawing sense, so I don\u0027t know enough to have a preference.",
      "parentUuid": "723748ce_e139e9f7",
      "revId": "9af1a34c83e3a6cc884694cb7922e83749851e7b",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3eaba358_080dd325",
        "filename": "core/fxge/skia/fx_skia_device.cpp",
        "patchSetId": 11
      },
      "lineNbr": 795,
      "author": {
        "id": 5045
      },
      "writtenOn": "2019-06-07T21:15:06Z",
      "side": 1,
      "message": "Any chance we can ask Cary, the original code author, about this? :-) I\u0027m guessing no, so we\u0027ll try to figure this one out for ourselves. We\u0027ll look deeper into how |m_drawMatrix| gets used.",
      "parentUuid": "3d3f5590_fe60870f",
      "revId": "9af1a34c83e3a6cc884694cb7922e83749851e7b",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a3c08a68_37720c9e",
        "filename": "core/fxge/skia/fx_skia_device.cpp",
        "patchSetId": 11
      },
      "lineNbr": 795,
      "author": {
        "id": 5045
      },
      "writtenOn": "2019-06-07T22:45:06Z",
      "side": 1,
      "message": "I tested a bunch of PDFs with both changes but I\u0027m not seeing any differences. If I had to follow my intuition, I\u0027d say reset it in the Flush functions - FlushText() should have this as well. Let\u0027s try that and see where it goes.",
      "parentUuid": "3eaba358_080dd325",
      "revId": "9af1a34c83e3a6cc884694cb7922e83749851e7b",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "62a1cba0_360045e7",
        "filename": "core/fxge/skia/fx_skia_device.cpp",
        "patchSetId": 11
      },
      "lineNbr": 1910,
      "author": {
        "id": 5045
      },
      "writtenOn": "2019-06-07T00:11:19Z",
      "side": 1,
      "message": "This is to fix the green line, right? Can we do that in a separate CL? Let\u0027s just concentrate on fixing the SkiaState issue for this CL.",
      "revId": "9af1a34c83e3a6cc884694cb7922e83749851e7b",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "af04a9ec_10ef61bc",
        "filename": "core/fxge/skia/fx_skia_device.cpp",
        "patchSetId": 11
      },
      "lineNbr": 1910,
      "author": {
        "id": 7620
      },
      "writtenOn": "2019-06-07T19:06:29Z",
      "side": 1,
      "message": "New CL created for green line not displayed: \nhttps://pdfium-review.googlesource.com/c/pdfium/+/55722",
      "parentUuid": "62a1cba0_360045e7",
      "revId": "9af1a34c83e3a6cc884694cb7922e83749851e7b",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "18565c9a_8613719a",
        "filename": "core/fxge/skia/fx_skia_device.cpp",
        "patchSetId": 11
      },
      "lineNbr": 1910,
      "author": {
        "id": 5045
      },
      "writtenOn": "2019-06-07T22:45:06Z",
      "side": 1,
      "message": "Can we upload an updated patch set to this CL without this change? Please update the CL description as well.",
      "parentUuid": "af04a9ec_10ef61bc",
      "revId": "9af1a34c83e3a6cc884694cb7922e83749851e7b",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": false
    }
  ]
}