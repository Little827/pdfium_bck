{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "7b433365_18cbc91b",
        "filename": "core/fxcrt/fx_string.h",
        "patchSetId": 4
      },
      "lineNbr": 25,
      "author": {
        "id": 5045
      },
      "writtenOn": "2023-12-11T22:44:02Z",
      "side": 1,
      "message": "Until now, PDFium has avoided using std::string / std::wstring / std::u16string in its non-test code. Should this return WideString instead to keep it that way?",
      "revId": "76a26983ec255294ab1e6fe32a97b1d1162b9b5c",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e5b8903a_dec03ce0",
        "filename": "core/fxcrt/fx_string.h",
        "patchSetId": 4
      },
      "lineNbr": 25,
      "author": {
        "id": 5475
      },
      "writtenOn": "2023-12-12T00:35:09Z",
      "side": 1,
      "message": "is there a reason for this avoidance?\n\nWideString does not have an implicit trailing nul char. ToUTF16() adds an explicit one, which I find mildly offensive (since it\u0027s not part of WideString contents normally, and it makes it not symmetric with FromUTF16). So I thought I\u0027d use u16string and switch the callers that want the trailing nul to it, since that makes that use case work nicely.\n\nIf you don\u0027t like that, I\u0027m happy to revert this cl.",
      "parentUuid": "7b433365_18cbc91b",
      "revId": "76a26983ec255294ab1e6fe32a97b1d1162b9b5c",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c10a1d5b_e70ee291",
        "filename": "core/fxcrt/fx_string.h",
        "patchSetId": 4
      },
      "lineNbr": 25,
      "author": {
        "id": 5475
      },
      "writtenOn": "2023-12-12T16:46:09Z",
      "side": 1,
      "message": "Here\u0027s an example of the kind of thing that\u0027s easier if there\u0027s some explicit UTF16 string type: https://pdfium-review.googlesource.com/c/pdfium/+/114750",
      "parentUuid": "e5b8903a_dec03ce0",
      "revId": "76a26983ec255294ab1e6fe32a97b1d1162b9b5c",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d51a8c5f_d2f669a1",
        "filename": "core/fxcrt/fx_string.h",
        "patchSetId": 4
      },
      "lineNbr": 25,
      "author": {
        "id": 5045
      },
      "writtenOn": "2023-12-12T18:07:52Z",
      "side": 1,
      "message": "See the comment at the top of bytestring.h / widestring.h re: CoW. If PDFium starts using std::string and ByteString, then developers are going to need guidance on when to use what.\n\nI believe WideString does have a trailing NUL. Otherwise, how can WideString::c_str() simply return its data? https://pdfium.googlesource.com/pdfium.git/+/cb1cd2f12898d7cdc0d9435be2244ce27f88afe3/core/fxcrt/widestring.h#79\n\nI don\u0027t think this CL needs to be reverted. Just reworked to not use std::u16string.",
      "parentUuid": "c10a1d5b_e70ee291",
      "revId": "76a26983ec255294ab1e6fe32a97b1d1162b9b5c",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b"
    }
  ]
}